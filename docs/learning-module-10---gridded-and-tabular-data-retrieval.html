<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Learning Module 10 - Gridded and tabular data retrieval | Quantitative Environmental Methods: LRES 546</title>
  <meta name="description" content="Chapter 10 Learning Module 10 - Gridded and tabular data retrieval | Quantitative Environmental Methods: LRES 546" />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Learning Module 10 - Gridded and tabular data retrieval | Quantitative Environmental Methods: LRES 546" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Learning Module 10 - Gridded and tabular data retrieval | Quantitative Environmental Methods: LRES 546" />
  
  
  

<meta name="author" content="Tim Covino &amp; Lauren Kremer" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html"/>
<link rel="next" href="dem-processing.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">lres_546</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#course-overview-and-objectives"><i class="fa fa-check"></i><b>1.1</b> Course overview and objectives</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#course-description"><i class="fa fa-check"></i><b>1.2</b> Course Description</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#structure"><i class="fa fa-check"></i><b>1.3</b> Structure</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#philosophical-approach-and-resources"><i class="fa fa-check"></i><b>1.4</b> Philosophical approach and resources</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#tentative-schedule-subject-to-change"><i class="fa fa-check"></i><b>1.5</b> Tentative schedule, subject to change</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="hydrograph-separation-learning-module.html"><a href="hydrograph-separation-learning-module.html"><i class="fa fa-check"></i><b>2</b> Hydrograph separation: learning module</a>
<ul>
<li class="chapter" data-level="2.1" data-path="hydrograph-separation-learning-module.html"><a href="hydrograph-separation-learning-module.html#summary"><i class="fa fa-check"></i><b>2.1</b> Summary</a></li>
<li class="chapter" data-level="2.2" data-path="hydrograph-separation-learning-module.html"><a href="hydrograph-separation-learning-module.html#overall-learning-objectives"><i class="fa fa-check"></i><b>2.2</b> Overall Learning Objectives</a></li>
<li class="chapter" data-level="2.3" data-path="hydrograph-separation-learning-module.html"><a href="hydrograph-separation-learning-module.html#lecture"><i class="fa fa-check"></i><b>2.3</b> Lecture</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="hydrograph-separation-learning-module.html"><a href="hydrograph-separation-learning-module.html#components-of-streamflow-during-a-rain-event"><i class="fa fa-check"></i><b>2.3.1</b> Components of streamflow during a rain event</a></li>
<li class="chapter" data-level="2.3.2" data-path="hydrograph-separation-learning-module.html"><a href="hydrograph-separation-learning-module.html#storm-flow-through-a-hillslope"><i class="fa fa-check"></i><b>2.3.2</b> Storm flow through a hillslope</a></li>
<li class="chapter" data-level="2.3.3" data-path="hydrograph-separation-learning-module.html"><a href="hydrograph-separation-learning-module.html#how-we-quantify-baseflow"><i class="fa fa-check"></i><b>2.3.3</b> How we quantify baseflow</a></li>
<li class="chapter" data-level="2.3.4" data-path="hydrograph-separation-learning-module.html"><a href="hydrograph-separation-learning-module.html#baseflow-separation-methods"><i class="fa fa-check"></i><b>2.3.4</b> Baseflow separation methods</a></li>
<li class="chapter" data-level="2.3.5" data-path="hydrograph-separation-learning-module.html"><a href="hydrograph-separation-learning-module.html#watershed-controls-on-baseflow-and-stormflow"><i class="fa fa-check"></i><b>2.3.5</b> Watershed controls on baseflow and stormflow</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="hydrograph-separation-learning-module.html"><a href="hydrograph-separation-learning-module.html#assessment"><i class="fa fa-check"></i><b>2.4</b> Assessment</a></li>
<li class="chapter" data-level="2.5" data-path="hydrograph-separation-learning-module.html"><a href="hydrograph-separation-learning-module.html#interactive-application-and-questions"><i class="fa fa-check"></i><b>2.5</b> Interactive application and questions</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="hydrograph-separation-learning-module.html"><a href="hydrograph-separation-learning-module.html#initial-data-exploration"><i class="fa fa-check"></i><b>2.5.1</b> Initial data exploration</a></li>
<li class="chapter" data-level="2.5.2" data-path="hydrograph-separation-learning-module.html"><a href="hydrograph-separation-learning-module.html#synthesis-questions"><i class="fa fa-check"></i><b>2.5.2</b> Synthesis Questions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="hydrograph-separation-lab-module-20-pts.html"><a href="hydrograph-separation-lab-module-20-pts.html"><i class="fa fa-check"></i><b>3</b> Hydrograph separation: lab module (20 pts)</a>
<ul>
<li class="chapter" data-level="3.1" data-path="hydrograph-separation-lab-module-20-pts.html"><a href="hydrograph-separation-lab-module-20-pts.html#intro"><i class="fa fa-check"></i><b>3.1</b> Intro</a></li>
<li class="chapter" data-level="3.2" data-path="hydrograph-separation-lab-module-20-pts.html"><a href="hydrograph-separation-lab-module-20-pts.html#reading-for-this-lab"><i class="fa fa-check"></i><b>3.2</b> Reading for this lab</a></li>
<li class="chapter" data-level="3.3" data-path="hydrograph-separation-lab-module-20-pts.html"><a href="hydrograph-separation-lab-module-20-pts.html#repo"><i class="fa fa-check"></i><b>3.3</b> Repo</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="learning-module-2---return-intervals-14-pts.html"><a href="learning-module-2---return-intervals-14-pts.html"><i class="fa fa-check"></i><b>4</b> Learning module 2 - Return intervals (14 pts)</a>
<ul>
<li class="chapter" data-level="4.1" data-path="learning-module-2---return-intervals-14-pts.html"><a href="learning-module-2---return-intervals-14-pts.html#background-information"><i class="fa fa-check"></i><b>4.1</b> Background information</a></li>
<li class="chapter" data-level="4.2" data-path="learning-module-2---return-intervals-14-pts.html"><a href="learning-module-2---return-intervals-14-pts.html#intro-1"><i class="fa fa-check"></i><b>4.2</b> Intro</a></li>
<li class="chapter" data-level="4.3" data-path="learning-module-2---return-intervals-14-pts.html"><a href="learning-module-2---return-intervals-14-pts.html#packages"><i class="fa fa-check"></i><b>4.3</b> Packages</a></li>
<li class="chapter" data-level="4.4" data-path="learning-module-2---return-intervals-14-pts.html"><a href="learning-module-2---return-intervals-14-pts.html#precipitation-return-intervals"><i class="fa fa-check"></i><b>4.4</b> Precipitation return intervals</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="learning-module-2---return-intervals-14-pts.html"><a href="learning-module-2---return-intervals-14-pts.html#q1.-2-pts-what-is-the-probability-that-the-annual-precipitation-in-a-given-year-is-less-than-400-mm-this-is-the-fa-in-the-cdf-in-the-probability-lecture-slides."><i class="fa fa-check"></i><b>4.4.1</b> <strong>Q1. (2 pts) What is the probability that the annual precipitation in a given year is less than 400 mm? This is the F(A) in the CDF in the probability lecture slides.</strong></a></li>
<li class="chapter" data-level="4.4.2" data-path="learning-module-2---return-intervals-14-pts.html"><a href="learning-module-2---return-intervals-14-pts.html#q2.-2-pts-what-is-the-probability-that-the-maximum-annual-precipitation-in-a-given-year-is-greater-than-500-mm"><i class="fa fa-check"></i><b>4.4.2</b> <strong>Q2. (2 pts) What is the probability that the maximum annual precipitation in a given year is GREATER than 500 mm?</strong></a></li>
<li class="chapter" data-level="4.4.3" data-path="learning-module-2---return-intervals-14-pts.html"><a href="learning-module-2---return-intervals-14-pts.html#q3.-2-pts-what-is-the-probability-that-the-annual-p-is-between-400-and-500-mm"><i class="fa fa-check"></i><b>4.4.3</b> <strong>Q3. (2 pts) What is the probability that the annual P is between 400 and 500 mm?</strong></a></li>
<li class="chapter" data-level="4.4.4" data-path="learning-module-2---return-intervals-14-pts.html"><a href="learning-module-2---return-intervals-14-pts.html#q4.-2-pts-what-is-the-return-period-for-a-year-with-at-least-550-mm-of-precip-the-return-period-tr-is-calculated-as-tr-1p-with-p-being-the-probability-for-an-event-to-occur."><i class="fa fa-check"></i><b>4.4.4</b> <strong>Q4. (2 pts) What is the return period for a year with AT LEAST 550 mm of precip? The return period, Tr, is calculated as Tr = 1/p, with p being the probability for an event to occur.</strong></a></li>
<li class="chapter" data-level="4.4.5" data-path="learning-module-2---return-intervals-14-pts.html"><a href="learning-module-2---return-intervals-14-pts.html#q5.-6-pts-explain-why-probability-analysis-of-climate-data-assumes-the-data-are-normally-distributed-and-stationary-below-provide-a-histogram-and-a-density-plot-of-the-total-annual-p-data-and-comment-on-the-visual-appearance-in-terms-of-normality.-next-use-google-and-the-links-below-to-test-for-normality-and-stationarity.-be-quantitative-in-commenting-on-the-normality-and-stationarity-of-the-total-p-data."><i class="fa fa-check"></i><b>4.4.5</b> <strong>Q5. (6 pts) Explain why probability analysis of climate data assumes the data are normally distributed and stationary? Below provide a histogram and a density plot of the total annual P data and comment on the visual appearance in terms of normality. Next use google and the links below to test for normality and stationarity. Be quantitative in commenting on the normality and stationarity of the total P data.</strong></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="rational-method-and-nrcs-curve-number-20-pts.html"><a href="rational-method-and-nrcs-curve-number-20-pts.html"><i class="fa fa-check"></i><b>5</b> Rational method and NRCS curve number (20 pts)</a>
<ul>
<li class="chapter" data-level="5.1" data-path="rational-method-and-nrcs-curve-number-20-pts.html"><a href="rational-method-and-nrcs-curve-number-20-pts.html#rational-method"><i class="fa fa-check"></i><b>5.1</b> Rational Method</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="rational-method-and-nrcs-curve-number-20-pts.html"><a href="rational-method-and-nrcs-curve-number-20-pts.html#background-information-1"><i class="fa fa-check"></i><b>5.1.1</b> Background information</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="rational-method-and-nrcs-curve-number-20-pts.html"><a href="rational-method-and-nrcs-curve-number-20-pts.html#curve-number"><i class="fa fa-check"></i><b>5.2</b> Curve Number</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="rational-method-and-nrcs-curve-number-20-pts.html"><a href="rational-method-and-nrcs-curve-number-20-pts.html#background-information-2"><i class="fa fa-check"></i><b>5.2.1</b> Background information</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="rational-method-and-nrcs-curve-number-20-pts.html"><a href="rational-method-and-nrcs-curve-number-20-pts.html#codework"><i class="fa fa-check"></i><b>5.3</b> Codework</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="rational-method-and-nrcs-curve-number-20-pts.html"><a href="rational-method-and-nrcs-curve-number-20-pts.html#packages-1"><i class="fa fa-check"></i><b>5.3.1</b> Packages</a></li>
<li class="chapter" data-level="5.3.2" data-path="rational-method-and-nrcs-curve-number-20-pts.html"><a href="rational-method-and-nrcs-curve-number-20-pts.html#part-i---rational-method"><i class="fa fa-check"></i><b>5.3.2</b> Part I - Rational Method</a></li>
<li class="chapter" data-level="5.3.3" data-path="rational-method-and-nrcs-curve-number-20-pts.html"><a href="rational-method-and-nrcs-curve-number-20-pts.html#part-ii---nrcs-cn"><i class="fa fa-check"></i><b>5.3.3</b> Part II - NRCS CN</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="transfer-function-rainfall-runoff-models.html"><a href="transfer-function-rainfall-runoff-models.html"><i class="fa fa-check"></i><b>6</b> Transfer function rainfall-runoff models</a>
<ul>
<li class="chapter" data-level="6.1" data-path="transfer-function-rainfall-runoff-models.html"><a href="transfer-function-rainfall-runoff-models.html#summary-1"><i class="fa fa-check"></i><b>6.1</b> Summary</a></li>
<li class="chapter" data-level="6.2" data-path="transfer-function-rainfall-runoff-models.html"><a href="transfer-function-rainfall-runoff-models.html#overall-learning-objectives-1"><i class="fa fa-check"></i><b>6.2</b> Overall Learning Objectives</a></li>
<li class="chapter" data-level="6.3" data-path="transfer-function-rainfall-runoff-models.html"><a href="transfer-function-rainfall-runoff-models.html#terminology"><i class="fa fa-check"></i><b>6.3</b> Terminology</a></li>
<li class="chapter" data-level="6.4" data-path="transfer-function-rainfall-runoff-models.html"><a href="transfer-function-rainfall-runoff-models.html#the-linear-time-invariant-tf"><i class="fa fa-check"></i><b>6.4</b> The Linear Time-Invariant TF</a></li>
<li class="chapter" data-level="6.5" data-path="transfer-function-rainfall-runoff-models.html"><a href="transfer-function-rainfall-runoff-models.html#codework---transfer-function-rainfall-runoff-model"><i class="fa fa-check"></i><b>6.5</b> Codework - Transfer function rainfall-runoff model</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="transfer-function-rainfall-runoff-models.html"><a href="transfer-function-rainfall-runoff-models.html#download-the-repo-for-this-lab-here"><i class="fa fa-check"></i><b>6.5.1</b> Download the repo for this lab HERE</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="monte-carlo-simulation-20-pnts.html"><a href="monte-carlo-simulation-20-pnts.html"><i class="fa fa-check"></i><b>7</b> Monte Carlo Simulation (20 pnts)</a>
<ul>
<li class="chapter" data-level="7.1" data-path="monte-carlo-simulation-20-pnts.html"><a href="monte-carlo-simulation-20-pnts.html#background"><i class="fa fa-check"></i><b>7.1</b> Background:</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="monte-carlo-simulation-20-pnts.html"><a href="monte-carlo-simulation-20-pnts.html#reading"><i class="fa fa-check"></i><b>7.1.1</b> Reading</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="monte-carlo-simulation-20-pnts.html"><a href="monte-carlo-simulation-20-pnts.html#how-does-this-apply-to-hydrological-modeling"><i class="fa fa-check"></i><b>7.2</b> How does this apply to hydrological modeling?</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="monte-carlo-simulation-20-pnts.html"><a href="monte-carlo-simulation-20-pnts.html#example"><i class="fa fa-check"></i><b>7.2.1</b> Example</a></li>
<li class="chapter" data-level="7.2.2" data-path="monte-carlo-simulation-20-pnts.html"><a href="monte-carlo-simulation-20-pnts.html#reading-1"><i class="fa fa-check"></i><b>7.2.2</b> Reading</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="monte-carlo-simulation-20-pnts.html"><a href="monte-carlo-simulation-20-pnts.html#how-do-we-generate-a-simulation-with-code"><i class="fa fa-check"></i><b>7.3</b> How do we generate a simulation with code?</a></li>
<li class="chapter" data-level="7.4" data-path="monte-carlo-simulation-20-pnts.html"><a href="monte-carlo-simulation-20-pnts.html#codework-1"><i class="fa fa-check"></i><b>7.4</b> Codework</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="monte-carlo-simulation-20-pnts.html"><a href="monte-carlo-simulation-20-pnts.html#download-the-repo-for-this-lab-here-1"><i class="fa fa-check"></i><b>7.4.1</b> Download the repo for this lab HERE</a></li>
<li class="chapter" data-level="7.4.2" data-path="monte-carlo-simulation-20-pnts.html"><a href="monte-carlo-simulation-20-pnts.html#setup"><i class="fa fa-check"></i><b>7.4.2</b> Setup</a></li>
<li class="chapter" data-level="7.4.3" data-path="monte-carlo-simulation-20-pnts.html"><a href="monte-carlo-simulation-20-pnts.html#parameter-initialization"><i class="fa fa-check"></i><b>7.4.3</b> Parameter initialization</a></li>
<li class="chapter" data-level="7.4.4" data-path="monte-carlo-simulation-20-pnts.html"><a href="monte-carlo-simulation-20-pnts.html#mc-model-run"><i class="fa fa-check"></i><b>7.4.4</b> MC Model run</a></li>
<li class="chapter" data-level="7.4.5" data-path="monte-carlo-simulation-20-pnts.html"><a href="monte-carlo-simulation-20-pnts.html#sensitivity-analysis"><i class="fa fa-check"></i><b>7.4.5</b> Sensitivity analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="classifying-model-structure---lecture-only-0-pts.html"><a href="classifying-model-structure---lecture-only-0-pts.html"><i class="fa fa-check"></i><b>8</b> Classifying model structure - Lecture only (0 pts)</a>
<ul>
<li class="chapter" data-level="8.1" data-path="classifying-model-structure---lecture-only-0-pts.html"><a href="classifying-model-structure---lecture-only-0-pts.html#spatial-complexity"><i class="fa fa-check"></i><b>8.1</b> Spatial Complexity</a></li>
<li class="chapter" data-level="8.2" data-path="classifying-model-structure---lecture-only-0-pts.html"><a href="classifying-model-structure---lecture-only-0-pts.html#modeling-approaches"><i class="fa fa-check"></i><b>8.2</b> Modeling Approaches</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html"><a href="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html"><i class="fa fa-check"></i><b>9</b> Snowmelt Models for runoff timing - Lecture &amp; Lab (20 pts)</a>
<ul>
<li class="chapter" data-level="9.1" data-path="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html"><a href="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html#module-repo"><i class="fa fa-check"></i><b>9.1</b> Module repo</a></li>
<li class="chapter" data-level="9.2" data-path="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html"><a href="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html#background-1"><i class="fa fa-check"></i><b>9.2</b> Background:</a></li>
<li class="chapter" data-level="9.3" data-path="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html"><a href="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html#model-approaches"><i class="fa fa-check"></i><b>9.3</b> Model Approaches</a></li>
<li class="chapter" data-level="9.4" data-path="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html"><a href="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html#spatial-complexity-1"><i class="fa fa-check"></i><b>9.4</b> Spatial complexity</a></li>
<li class="chapter" data-level="9.5" data-path="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html"><a href="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html#model-choices-my-snow-is-different-from-your-snow"><i class="fa fa-check"></i><b>9.5</b> Model choices: My snow is different from your snow</a></li>
<li class="chapter" data-level="9.6" data-path="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html"><a href="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html#codework-2"><i class="fa fa-check"></i><b>9.6</b> Codework</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html"><a href="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html#download-the-repo-for-this-lab-here-2"><i class="fa fa-check"></i><b>9.6.1</b> Download the repo for this lab HERE</a></li>
<li class="chapter" data-level="9.6.2" data-path="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html"><a href="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html#import-data"><i class="fa fa-check"></i><b>9.6.2</b> Import data:</a></li>
<li class="chapter" data-level="9.6.3" data-path="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html"><a href="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html#calculate-liquid-input"><i class="fa fa-check"></i><b>9.6.3</b> Calculate liquid input</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html"><a href="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html#modeling-swe"><i class="fa fa-check"></i><b>9.7</b> Modeling SWE</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="learning-module-10---gridded-and-tabular-data-retrieval.html"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html"><i class="fa fa-check"></i><b>10</b> Learning Module 10 - Gridded and tabular data retrieval</a>
<ul>
<li class="chapter" data-level="10.1" data-path="learning-module-10---gridded-and-tabular-data-retrieval.html"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#objectives"><i class="fa fa-check"></i><b>10.1</b> Objectives</a></li>
<li class="chapter" data-level="10.2" data-path="learning-module-10---gridded-and-tabular-data-retrieval.html"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#background-2"><i class="fa fa-check"></i><b>10.2</b> Background</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="learning-module-10---gridded-and-tabular-data-retrieval.html"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#a-refresher-in-gis-concepts"><i class="fa fa-check"></i><b>10.2.1</b> A refresher in GIS concepts:</a></li>
<li class="chapter" data-level="10.2.2" data-path="learning-module-10---gridded-and-tabular-data-retrieval.html"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#a-refresher-in-remote-sensing"><i class="fa fa-check"></i><b>10.2.2</b> A refresher in remote sensing:</a></li>
<li class="chapter" data-level="10.2.3" data-path="learning-module-10---gridded-and-tabular-data-retrieval.html"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#ethical-conduct"><i class="fa fa-check"></i><b>10.2.3</b> Ethical conduct</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="learning-module-10---gridded-and-tabular-data-retrieval.html"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#codework-3"><i class="fa fa-check"></i><b>10.3</b> Codework</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="learning-module-10---gridded-and-tabular-data-retrieval.html"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#setup-1"><i class="fa fa-check"></i><b>10.3.1</b> Setup:<br></a></li>
<li class="chapter" data-level="10.3.2" data-path="learning-module-10---gridded-and-tabular-data-retrieval.html"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#selecting-a-watershed"><i class="fa fa-check"></i><b>10.3.2</b> Selecting a watershed:</a></li>
<li class="chapter" data-level="10.3.3" data-path="learning-module-10---gridded-and-tabular-data-retrieval.html"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#flow-data-retrieval"><i class="fa fa-check"></i><b>10.3.3</b> Flow data retrieval:</a></li>
<li class="chapter" data-level="10.3.4" data-path="learning-module-10---gridded-and-tabular-data-retrieval.html"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#watershed-boundary-vector-data"><i class="fa fa-check"></i><b>10.3.4</b> Watershed boundary vector data:</a></li>
<li class="chapter" data-level="10.3.5" data-path="learning-module-10---gridded-and-tabular-data-retrieval.html"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#digital-elevation-models-dem"><i class="fa fa-check"></i><b>10.3.5</b> Digital Elevation Models (DEM)</a></li>
<li class="chapter" data-level="10.3.6" data-path="learning-module-10---gridded-and-tabular-data-retrieval.html"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#other-remotely-sensed-data"><i class="fa fa-check"></i><b>10.3.6</b> Other remotely sensed data:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="dem-processing.html"><a href="dem-processing.html"><i class="fa fa-check"></i><b>11</b> DEM processing</a>
<ul>
<li class="chapter" data-level="11.1" data-path="dem-processing.html"><a href="dem-processing.html#the-link-to-the-repo-is-here"><i class="fa fa-check"></i><b>11.1</b> THE LINK TO THE REPO IS HERE</a></li>
<li class="chapter" data-level="11.2" data-path="dem-processing.html"><a href="dem-processing.html#objective"><i class="fa fa-check"></i><b>11.2</b> Objective:</a></li>
<li class="chapter" data-level="11.3" data-path="dem-processing.html"><a href="dem-processing.html#background-3"><i class="fa fa-check"></i><b>11.3</b> Background:</a></li>
<li class="chapter" data-level="11.4" data-path="dem-processing.html"><a href="dem-processing.html#codework-4"><i class="fa fa-check"></i><b>11.4</b> Codework</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="dem-processing.html"><a href="dem-processing.html#installing-libraries"><i class="fa fa-check"></i><b>11.4.1</b> Installing libraries</a></li>
<li class="chapter" data-level="11.4.2" data-path="dem-processing.html"><a href="dem-processing.html#generate-functions"><i class="fa fa-check"></i><b>11.4.2</b> Generate functions</a></li>
<li class="chapter" data-level="11.4.3" data-path="dem-processing.html"><a href="dem-processing.html#establish-new-directoriesfolders"><i class="fa fa-check"></i><b>11.4.3</b> Establish new directories(folders)</a></li>
<li class="chapter" data-level="11.4.4" data-path="dem-processing.html"><a href="dem-processing.html#resample-dems"><i class="fa fa-check"></i><b>11.4.4</b> Resample DEMs</a></li>
<li class="chapter" data-level="11.4.5" data-path="dem-processing.html"><a href="dem-processing.html#filling-and-breaching"><i class="fa fa-check"></i><b>11.4.5</b> Filling and breaching</a></li>
<li class="chapter" data-level="11.4.6" data-path="dem-processing.html"><a href="dem-processing.html#flow-direction-and-accumulation-rasters"><i class="fa fa-check"></i><b>11.4.6</b> Flow direction and accumulation rasters</a></li>
<li class="chapter" data-level="11.4.7" data-path="dem-processing.html"><a href="dem-processing.html#streams"><i class="fa fa-check"></i><b>11.4.7</b> Streams</a></li>
<li class="chapter" data-level="11.4.8" data-path="dem-processing.html"><a href="dem-processing.html#final-thoughts-1"><i class="fa fa-check"></i><b>11.4.8</b> Final thoughts:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="evapotranspiration.html"><a href="evapotranspiration.html"><i class="fa fa-check"></i><b>12</b> Evapotranspiration</a>
<ul>
<li class="chapter" data-level="12.1" data-path="evapotranspiration.html"><a href="evapotranspiration.html#the-repo-can-be-found-here"><i class="fa fa-check"></i><b>12.1</b> The repo can be found here</a></li>
<li class="chapter" data-level="12.2" data-path="evapotranspiration.html"><a href="evapotranspiration.html#background-4"><i class="fa fa-check"></i><b>12.2</b> Background</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="evapotranspiration.html"><a href="evapotranspiration.html#transpiration"><i class="fa fa-check"></i><b>12.2.1</b> Transpiration</a></li>
<li class="chapter" data-level="12.2.2" data-path="evapotranspiration.html"><a href="evapotranspiration.html#measurements"><i class="fa fa-check"></i><b>12.2.2</b> Measurements</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="evapotranspiration.html"><a href="evapotranspiration.html#codework-5"><i class="fa fa-check"></i><b>12.3</b> Codework:</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="evapotranspiration.html"><a href="evapotranspiration.html#the-evapotranspiration-package"><i class="fa fa-check"></i><b>12.3.1</b> The Evapotranspiration package</a></li>
<li class="chapter" data-level="12.3.2" data-path="evapotranspiration.html"><a href="evapotranspiration.html#the-priestly-taylor-method-actual-evapotranspiration"><i class="fa fa-check"></i><b>12.3.2</b> The Priestly Taylor method (actual evapotranspiration)</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Quantitative Environmental Methods: LRES 546</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="learning-module-10---gridded-and-tabular-data-retrieval" class="section level1 hasAnchor" number="10">
<h1><span class="header-section-number">Chapter 10</span> Learning Module 10 - Gridded and tabular data retrieval<a href="learning-module-10---gridded-and-tabular-data-retrieval.html#learning-module-10---gridded-and-tabular-data-retrieval" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><strong>15 pnts</strong></p>
<p>The repo for this module can be found <a href="https://github.com/tpcovino/07_gridded_data_retrieval" target="_blank">here</a></p>
<div id="objectives" class="section level2 hasAnchor" number="10.1">
<h2><span class="header-section-number">10.1</span> Objectives<a href="learning-module-10---gridded-and-tabular-data-retrieval.html#objectives" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this module you will:<br><br>
-Retrieve flow data using the dataretrieval package<br>
-Learn to retrieve and manage digital elevation models<br>
-Retrieve and import remotely sensed data for the watershed extent<br></p>
</div>
<div id="background-2" class="section level2 hasAnchor" number="10.2">
<h2><span class="header-section-number">10.2</span> Background<a href="learning-module-10---gridded-and-tabular-data-retrieval.html#background-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="a-refresher-in-gis-concepts" class="section level3 hasAnchor" number="10.2.1">
<h3><span class="header-section-number">10.2.1</span> A refresher in GIS concepts:<a href="learning-module-10---gridded-and-tabular-data-retrieval.html#a-refresher-in-gis-concepts" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This module assumes familiarity with basic Geographic Information System (GIS) such as coordinate systems (latitude and lognitude, UTM). Some terms to recall:</p>
<p><strong>Gridded data</strong> refers to spatial data in raster format. If you have performed any GIS work, you are likely using gridded data. Rasters organize geographical areas into a grid where each regularly spaced cell represents a specific location and contains some attribute representing that location. For example, digital elevation models (DEM) are a form of gridded data. Imagine that we are working in a watershed and we can drop a grid or square celled net over the entire catchment. We can then model the elevation data of that catchment by assigning each cell in the net a mean elevation value for the area represented by the cell. Similarly, we can assign any value we wish to model to the cells. If we were to drop another net and assign a maximum tree height to every cell, we would be adding another ‘layer’ to our model. The <strong>spatial resolution</strong> of gridded data refers to the length and width of each cell represents. If we want to observe gridded data over time, we can generate a raster stack, where each raster layer represents a point in time. With a raster stack, we can increase the <strong>temporal resolution</strong> of our gridded data.</p>
<p><strong>Vector data</strong> describes spatial features using points, lines, and polygons. These spatial features are represented a geometrical objects with associated attributes, like lines to represent linear features such as rivers, or points to represent single locations. We will work with a .shp file in this module that is a collection of points representing the boundary of a watershed.</p>
<p><strong>Tabular data</strong> refers to data organized in a row-column format. In this class, each of our .csv datasets are a form of tabular data.</p>
</div>
<div id="a-refresher-in-remote-sensing" class="section level3 hasAnchor" number="10.2.2">
<h3><span class="header-section-number">10.2.2</span> A refresher in remote sensing:<a href="learning-module-10---gridded-and-tabular-data-retrieval.html#a-refresher-in-remote-sensing" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Remote sensing is the science of obtaining information about objects or areas from a distance, typically from aircraft or satellites. It involves the collection and interpretation of data gathered by sensors that detect electromagnetic radiation reflected or emitted from the Earth’s surface and atmosphere. As ecologists, many of us utilize remote sensing to observe and analyze the Earth’s surface and its dynamics, providing valuable insights into environmental processes, land use and land cover changes, natural disasters, and more.
Some helpful terms to recall:</p>
<p><strong>spatial resolution:</strong> Remotely sensed data can vary in its spatial resolution, which refers to the scale of the smallest unit, or level of visual detail.</p>
<p><strong>temporal resolution:</strong> When used to describe remotely sensed data, we are often talking about how frequently a remote sensing system revisits the same area on the Earth surface. Systems with high temporal resolution revisit the same location frequently, allowing for monitoring rapid changes in phenomena, where a lower resolution may limit a system’s ability to capture short-term events.</p>
<p>We often find that data collection requires a balance of spatial and temporal resolution to select the most appropriate data for the coverage and detail that ecological work requires.</p>
</div>
<div id="ethical-conduct" class="section level3 hasAnchor" number="10.2.3">
<h3><span class="header-section-number">10.2.3</span> Ethical conduct<a href="learning-module-10---gridded-and-tabular-data-retrieval.html#ethical-conduct" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When utilizing publicly available datasets, it is important for us as users to:<br><br>
-Be aware of any copyright or licensing agreements. There may be restrictions or usage terms imposed by data providers. Read provided agreements or terms to be sure we are in compliance with these when using datasets in our research. This may also include requirements for registration or subscription established by providers or agencies like USGS or NASA.<br><br>
-Cite and acknowledge the contributions of data providers and researchers whose datasets we utilize. This also facilitates transparency and reproducibility in our research.<br><br>
- Assess the quality and accuracy of geospatial data before using it for decision making purposes. It is important that we consider spatial resolution, temporal resolution and metadata documentation to critically evaluate the reliability of the datasets we use.<br><br>
-Promote Open Data Principles: Try to explore and use publicly available datasets that support transparency and collaboration within our scientific and academic communities.<br><br></p>
</div>
</div>
<div id="codework-3" class="section level2 hasAnchor" number="10.3">
<h2><span class="header-section-number">10.3</span> Codework<a href="learning-module-10---gridded-and-tabular-data-retrieval.html#codework-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In this module we will import streamflow (tablular) data, using USGS’s DataRetrieval package, then visualize vector data to delineate our area of interest and learn how to find spatial gridded data for the area.</p>
<div id="setup-1" class="section level3 hasAnchor" number="10.3.1">
<h3><span class="header-section-number">10.3.1</span> Setup:<br><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#setup-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When importing packages and setting parameters, think about how the local working environment can vary among users and computers. A function that examines and installs packages before importing them enhances the script’s ability to be easily used by others.</p>
</div>
<div id="selecting-a-watershed" class="section level3 hasAnchor" number="10.3.2">
<h3><span class="header-section-number">10.3.2</span> Selecting a watershed:<a href="learning-module-10---gridded-and-tabular-data-retrieval.html#selecting-a-watershed" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Here, we are using USGS’ dataRetrieval package to search and filter hydrologic datasets. There are many ways data can be searched; more can be found in this <a href="https://cran.r-project.org/web/packages/dataRetrieval/vignettes/dataRetrieval.html">dataRetrieval vingette</a>. In this example, we will fetch USGS site numbers for Colorado watersheds with streamflow (discharge) data for a specified time period.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb69-1" tabindex="-1"></a><span class="co"># Start by defining and storing your search parameters as variables at the beginning of the script. This practice enables you and other users to easily modify the search parameters from a single location within the script.</span></span>
<span id="cb69-2"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb69-2" tabindex="-1"></a></span>
<span id="cb69-3"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb69-3" tabindex="-1"></a><span class="co"># stateCd &lt;- &quot;CO&quot;  # Colorado</span></span>
<span id="cb69-4"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb69-4" tabindex="-1"></a><span class="co"># parameterCd &lt;- &quot;00060&quot;  # Discharge (cubic feet per second)</span></span>
<span id="cb69-5"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb69-5" tabindex="-1"></a><span class="co"># start_date &lt;- &quot;2023-01-01&quot;</span></span>
<span id="cb69-6"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb69-6" tabindex="-1"></a><span class="co"># end_date &lt;- &quot;2023-12-31&quot;</span></span>
<span id="cb69-7"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb69-7" tabindex="-1"></a><span class="co"># gage_no &lt;- &#39;401733105392404&#39; #&#39;05015500&#39; #&quot;05017500&quot;</span></span>
<span id="cb69-8"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb69-8" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb69-9"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb69-9" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb69-10"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb69-10" tabindex="-1"></a><span class="co"># sites &lt;- whatNWISsites(stateCd = stateCd, parameterCd = parameterCd)</span></span></code></pre></div>
<p><strong>Q1</strong> (2pnts). If you were creating this script for your work team’s shared collaboration, or for yourself to use again a year from now, what might be the disadvantages of embedding search parameters directly into the function parameters?</p>
<p>ANSWER:</p>
<p><strong>Q2</strong> (2pnts). What is a potential use for whatNWISsites?</p>
<p>ANSWER:</p>
<p><strong>EXTRA</strong> (1pnt): Why might the above script return an error if dpylr:: is not placed before select()?</p>
<p>ANSWER:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb70-1" tabindex="-1"></a><span class="co"># # Now we will request more data from these sites by looping through the list we just generated. This chunk will take several minutes. Feel free to comment this out if needed once you have executed it once.</span></span>
<span id="cb70-2"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb70-2" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb70-3"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb70-3" tabindex="-1"></a><span class="co"># # Initialize an empty dataframe to store the results from each list item</span></span>
<span id="cb70-4"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb70-4" tabindex="-1"></a><span class="co"># all_site_data &lt;- data.frame()</span></span>
<span id="cb70-5"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb70-5" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb70-6"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb70-6" tabindex="-1"></a><span class="co"># for (site in sites$site_no) { #for every value in site_no column of sites</span></span>
<span id="cb70-7"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb70-7" tabindex="-1"></a><span class="co">#   siteINFO &lt;- readNWISsite(site) %&gt;% #read the site data</span></span>
<span id="cb70-8"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb70-8" tabindex="-1"></a><span class="co">#     # filter by drainage area</span></span>
<span id="cb70-9"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb70-9" tabindex="-1"></a><span class="co">#     filter(drain_area_va &lt; 300 &amp; drain_area_va &gt; 250) %&gt;%</span></span>
<span id="cb70-10"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb70-10" tabindex="-1"></a><span class="co">#     # select a subset of potential columns</span></span>
<span id="cb70-11"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb70-11" tabindex="-1"></a><span class="co">#     dplyr::select(&#39;agency_cd&#39;, &quot;site_no&quot;,&#39;station_nm&#39;, &quot;lat_va&quot;,&quot;long_va&quot;, &quot;drain_area_va&quot;)</span></span>
<span id="cb70-12"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb70-12" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb70-13"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb70-13" tabindex="-1"></a><span class="co">#     # Add the siteINFO to the all_site_data dataframe</span></span>
<span id="cb70-14"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb70-14" tabindex="-1"></a><span class="co">#     all_site_data &lt;- bind_rows(all_site_data, siteINFO)</span></span>
<span id="cb70-15"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb70-15" tabindex="-1"></a><span class="co"># }</span></span>
<span id="cb70-16"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb70-16" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb70-17"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb70-17" tabindex="-1"></a><span class="co"># # Note that the results of each iteration of the loop need to be stored by adding them to the empty dataframe before the &#39;for&#39; loop. If your result contains only one iteration worth of data, you may have forgotten this step.</span></span></code></pre></div>
<p>drain_area_va is a column value returned by readNWISsite. <a href="https://rconnect.usgs.gov/dataRetrieval/reference/readNWISsite.html">Other variables can be found here</a></p>
<p><strong>Q3</strong> (1pnt). In a sentence, what does this dataframe (all_site_data) tell you?</p>
<p>ANSWER:</p>
<p>Note that while your research interests may not require streamflow data, it can serve as a valuable resource for a wide array of data types.</p>
<p>For the remainder of this assignment, we’ll focus on a single watershed in central Colorado near the Experimental Forest that we explored in the Snowmelt module. There are several dataRetrieval functions could we utilize to see what data is available for a particular site number. Check <a href="https://waterdata.usgs.gov/blog/dataretrieval/">dataRetrieval docs</a> to learn package functions or tools.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb71-1" tabindex="-1"></a><span class="co"># Check data availability for the gage_no of interest</span></span>
<span id="cb71-2"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb71-2" tabindex="-1"></a><span class="co"># dataavailable &lt;- whatNWISdata(siteNumber = BLANK, service=&quot;all&quot;)</span></span></code></pre></div>
<p><strong>Q4</strong> (4pnts). Find the longest running dataset in DataAvailable (i.e. either by count or by start and end date). Use <a href="https://help.waterdata.usgs.gov" class="uri">https://help.waterdata.usgs.gov</a> to look up the meaning of some of column headers and the codes associated with them.<br>
a. What kind of data does this long running dataset hold? <br>
b. What column did you use to learn that? <br>
c. What does ‘dv’ mean in data_type_cd? <br></p>
<p>ANSWER:</p>
</div>
<div id="flow-data-retrieval" class="section level3 hasAnchor" number="10.3.3">
<h3><span class="header-section-number">10.3.3</span> Flow data retrieval:<a href="learning-module-10---gridded-and-tabular-data-retrieval.html#flow-data-retrieval" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb72-1" tabindex="-1"></a><span class="co"># Can change filter() arguments to use as you need</span></span>
<span id="cb72-2"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb72-2" tabindex="-1"></a></span>
<span id="cb72-3"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb72-3" tabindex="-1"></a><span class="co"># CHECK UNITS of data imported:</span></span>
<span id="cb72-4"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb72-4" tabindex="-1"></a><span class="co"># parameterCdFile %&gt;% </span></span>
<span id="cb72-5"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb72-5" tabindex="-1"></a><span class="co">#   filter(srsname == &#39;Precipitation&#39;, parameter_cd ==&#39;00045&#39;)</span></span></code></pre></div>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb73-1" tabindex="-1"></a><span class="co"># #import - determine years of burn</span></span>
<span id="cb73-2"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb73-2" tabindex="-1"></a><span class="co"># gage_no &lt;- &#39;09032100&#39; </span></span>
<span id="cb73-3"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb73-3" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb73-4"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb73-4" tabindex="-1"></a><span class="co"># # Raw daily data:</span></span>
<span id="cb73-5"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb73-5" tabindex="-1"></a><span class="co"># rawQData &lt;- readNWISdv(gage_no, parameterCd, </span></span>
<span id="cb73-6"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb73-6" tabindex="-1"></a><span class="co">#                         &quot;2014-01-01&quot;, &quot;2024-01-01&quot;)</span></span></code></pre></div>
<p>Let’s rename our columns. For this you will need to determine the units of the date</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb74-1" tabindex="-1"></a><span class="co"># rawQData &lt;- rawQData %&gt;%</span></span>
<span id="cb74-2"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb74-2" tabindex="-1"></a><span class="co">#   rename (&#39;BLANK&#39; = &#39;X_00060_00003&#39;) %&gt;%</span></span>
<span id="cb74-3"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb74-3" tabindex="-1"></a><span class="co"># # the X_00060_00003_cd column provides information about the data quality. It is good to check this to anticipate or understand potential data anomalies. We have checked this and determined that we no longer need it for this exercise:</span></span>
<span id="cb74-4"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb74-4" tabindex="-1"></a><span class="co">#   dplyr::select(-c(&#39;X_00060_00003_cd&#39;, &#39;agency_cd&#39;))</span></span></code></pre></div>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb75-1" tabindex="-1"></a><span class="co"># It is good to visualize your data upon import:</span></span>
<span id="cb75-2"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb75-2" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb75-3"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb75-3" tabindex="-1"></a><span class="co"># ggplot(rawQData, aes(x = Date, y = BLANK)) +</span></span>
<span id="cb75-4"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb75-4" tabindex="-1"></a><span class="co">#   geom_point() +</span></span>
<span id="cb75-5"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb75-5" tabindex="-1"></a><span class="co">#   scale_x_date(date_labels = &quot;%b %Y&quot;, date_breaks = &quot;3 month&quot;) + </span></span>
<span id="cb75-6"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb75-6" tabindex="-1"></a><span class="co">#   theme(axis.text.x = element_text(angle = BLANK, hjust = 1))</span></span></code></pre></div>
<p><strong>Q5</strong> (2pnts). Based on the hydrograph plot, what type of precipitation events appear to influence the observed intra-annual variations in flow rates?</p>
<p>ANSWER:</p>
</div>
<div id="watershed-boundary-vector-data" class="section level3 hasAnchor" number="10.3.4">
<h3><span class="header-section-number">10.3.4</span> Watershed boundary vector data:<a href="learning-module-10---gridded-and-tabular-data-retrieval.html#watershed-boundary-vector-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A boundary shapefile has been provided to save time and improve repeatability. Watershed boundaries for gauging stations can be found at <a href="https://streamstats.usgs.gov/ss/">USGS StreamStats</a> by zooming into the water map and clicking ‘Delineate’ near your desired gage or point. Once your watershed is delineated, you can click on ‘Download Basin’ and select from a choice of file types. This can be a great to to delineate river basins if all you require is a shapefile. For smaller streams, other analyses are available. We will cover those in the next module.</p>
<p>Let’s import a pre-created shapefile:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb76-1" tabindex="-1"></a><span class="co"># import_path &lt;- paste(getwd(), &#39;/cabin_creek_shp/globalwatershed.shp&#39;, sep=&#39;&#39;)</span></span>
<span id="cb76-2"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb76-2" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb76-3"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb76-3" tabindex="-1"></a><span class="co"># # Read the shapefile</span></span>
<span id="cb76-4"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb76-4" tabindex="-1"></a><span class="co"># ws_boundary &lt;- st_read(import_path)</span></span></code></pre></div>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb77-1" tabindex="-1"></a><span class="co"># Check the coordinate reference system (CRS) of the shapefile</span></span>
<span id="cb77-2"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb77-2" tabindex="-1"></a><span class="co"># print(st_crs(ws_boundary))</span></span></code></pre></div>
<p>Let’s transform this to a projected CRS (flat surface) rather than a geographic (spherical surface) CRS. A projected CRS will depict the data on a flat surface which is required for distance or area measurements. A more detailed explanation can be <a href="https://www.earthdatascience.org/courses/earth-analytics/spatial-data-r/intro-to-coordinate-reference-systems/">found at the University of Colorado’s Earth Lab</a> if needed.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb78-1" tabindex="-1"></a><span class="co"># # Use the EPSG code for UTM Zone 12. Choose a UTM or other code appropriate for the area of interest.</span></span>
<span id="cb78-2"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb78-2" tabindex="-1"></a><span class="co"># new_crs &lt;- st_crs(32613)  # Use the appropriate EPSG code for your CRS</span></span>
<span id="cb78-3"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb78-3" tabindex="-1"></a><span class="co"># ws_boundary &lt;- st_transform(ws_boundary, crs = BLANK)</span></span>
<span id="cb78-4"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb78-4" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb78-5"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb78-5" tabindex="-1"></a><span class="co"># # We will export the transformed shapefile for use in the MODIS gui later</span></span>
<span id="cb78-6"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb78-6" tabindex="-1"></a><span class="co"># st_write(ws_boundary, &quot;cabin_creek_shp_projected/cabin_creek_projected.shp&quot;, append=FALSE)</span></span></code></pre></div>
<div id="visualization---watershed-boundary" class="section level4 hasAnchor" number="10.3.4.1">
<h4><span class="header-section-number">10.3.4.1</span> Visualization - watershed boundary<a href="learning-module-10---gridded-and-tabular-data-retrieval.html#visualization---watershed-boundary" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>i.e., sanity check</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb79-1" tabindex="-1"></a><span class="co"># # Let&#39;s look at the shapefile with a basic leaflet map. Leaflet can be a nice way to see your data with on a basemap for geographic context.</span></span>
<span id="cb79-2"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb79-2" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb79-3"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb79-3" tabindex="-1"></a><span class="co"># # Transform the shapefile to long-lat for visualization</span></span>
<span id="cb79-4"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb79-4" tabindex="-1"></a><span class="co"># ws_boundary_longlat &lt;- st_transform(ws_boundary, crs = st_crs(&quot;EPSG:4326&quot;))</span></span>
<span id="cb79-5"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb79-5" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb79-6"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb79-6" tabindex="-1"></a><span class="co"># # Create the Leaflet map</span></span>
<span id="cb79-7"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb79-7" tabindex="-1"></a><span class="co"># map &lt;- leaflet() %&gt;%</span></span>
<span id="cb79-8"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb79-8" tabindex="-1"></a><span class="co">#   setView(lng = -105.7, lat = 40.0, zoom = 13) %&gt;%</span></span>
<span id="cb79-9"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb79-9" tabindex="-1"></a><span class="co">#   addProviderTiles(&quot;Esri.WorldImagery&quot;) %&gt;%</span></span>
<span id="cb79-10"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb79-10" tabindex="-1"></a><span class="co">#   addPolygons(data = ws_boundary_longlat, fillOpacity = 0.7, layerId = &quot;my_layer&quot;)</span></span>
<span id="cb79-11"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb79-11" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb79-12"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb79-12" tabindex="-1"></a><span class="co"># # Print or display the map</span></span>
<span id="cb79-13"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb79-13" tabindex="-1"></a><span class="co"># map</span></span></code></pre></div>
</div>
</div>
<div id="digital-elevation-models-dem" class="section level3 hasAnchor" number="10.3.5">
<h3><span class="header-section-number">10.3.5</span> Digital Elevation Models (DEM)<a href="learning-module-10---gridded-and-tabular-data-retrieval.html#digital-elevation-models-dem" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A DEM has been provided for consistency among users.</p>
<p>However, if you are unfamiliar with the process of retrieving a DEM here are three methods that our team commonly uses:<br></p>
<ol style="list-style-type: decimal">
<li><p>USDA’s <a href="https://datagateway.nrcs.usda.gov/GDGOrder.aspx">Natural Resources Conservation Science (NRCS) website</a>. Here you can order (free) DEMs by state, county or bounding box. It takes just minutes for them to be emailed to you. <br><br></p></li>
<li><p>If you have a USGS account (fast and free) you can also find DEM data at <a href="https://earthexplorer.usgs.gov" class="uri">https://earthexplorer.usgs.gov</a>. See <a href="https://youtube.com/watch?v=NQg0g9ObhXE">this video</a> if interested. This is the method we used to provide this DEM and we will use this resource again to retrieve Landsat data.<br><br></p></li>
<li><p>GIS or hydrological software like QGIS and SAGA offer tools for downloading DEMs directly into your project for analysis. This can be optimal when working over large geographic extents to streamline the data acquisition process. Both QGIS and SAGA are free and easy to learn if you have experience with ESRI products.<br><br></p></li>
</ol>
<p>Let’s check out our DEM:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb80-1" tabindex="-1"></a><span class="co"># # Import the pre-downloaded DEMs. Note that we need two files to obtain a complete DEM for our watershed.</span></span>
<span id="cb80-2"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb80-2" tabindex="-1"></a><span class="co"># dem1 &lt;- raster(file.path(&#39;cabin_creek_dems_raw/n39_w106_1arc_v3.tif&#39;))</span></span>
<span id="cb80-3"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb80-3" tabindex="-1"></a><span class="co"># dem2 &lt;- raster(file.path(&#39;cabin_creek_dems_raw/n40_w106_1arc_v3.tif&#39;))</span></span>
<span id="cb80-4"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb80-4" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb80-5"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb80-5" tabindex="-1"></a><span class="co"># # Check that the DEMs align. If retrieving them from different sources, you can also check that the projections are the same with proj4string() before mosaicing</span></span>
<span id="cb80-6"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb80-6" tabindex="-1"></a><span class="co"># origin(dem2) &lt;- origin(dem1)</span></span>
<span id="cb80-7"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb80-7" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb80-8"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb80-8" tabindex="-1"></a><span class="co"># # Mosaic the rasters</span></span>
<span id="cb80-9"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb80-9" tabindex="-1"></a><span class="co"># dem &lt;- mosaic(dem1, dem2, fun = mean) # fun indicates the treatment of overlapping cells</span></span>
<span id="cb80-10"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb80-10" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb80-11"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb80-11" tabindex="-1"></a><span class="co"># # Project the raster to match the ws_boundary projection</span></span>
<span id="cb80-12"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb80-12" tabindex="-1"></a><span class="co"># dem_projected &lt;- projectRaster(dem, crs = crs(BLANK))</span></span>
<span id="cb80-13"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb80-13" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb80-14"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb80-14" tabindex="-1"></a><span class="co"># # Check</span></span>
<span id="cb80-15"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb80-15" tabindex="-1"></a><span class="co"># plot(dem_projected)</span></span>
<span id="cb80-16"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb80-16" tabindex="-1"></a><span class="co"># plot(ws_boundary, add = TRUE)</span></span></code></pre></div>
<p>If the watershed and raster don’t overlap as you expect, be sure the projection and extent is the same for all data files plotted.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb81-1" tabindex="-1"></a><span class="co"># # Clip the dem to the watershed. This will change all elevation values outside of the watershed to &#39;NA&#39;</span></span>
<span id="cb81-2"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb81-2" tabindex="-1"></a><span class="co"># dem_clipped &lt;- mask(dem_projected, ws_boundary) </span></span>
<span id="cb81-3"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb81-3" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb81-4"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb81-4" tabindex="-1"></a><span class="co"># # Remove rows and columns with only &#39;NA&#39; values</span></span>
<span id="cb81-5"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb81-5" tabindex="-1"></a><span class="co"># dem_trimmed &lt;- trim(dem_clipped)</span></span>
<span id="cb81-6"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb81-6" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb81-7"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb81-7" tabindex="-1"></a><span class="co"># # Save the trimmed raster to a new file or use it for further analysis</span></span>
<span id="cb81-8"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb81-8" tabindex="-1"></a><span class="co"># writeRaster(dem_trimmed, &quot;trimmed_dem.tif&quot;, format = &quot;GTiff&quot;, overwrite=TRUE)</span></span>
<span id="cb81-9"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb81-9" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb81-10"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb81-10" tabindex="-1"></a><span class="co"># plot(dem_trimmed)</span></span></code></pre></div>
</div>
<div id="other-remotely-sensed-data" class="section level3 hasAnchor" number="10.3.6">
<h3><span class="header-section-number">10.3.6</span> Other remotely sensed data:<a href="learning-module-10---gridded-and-tabular-data-retrieval.html#other-remotely-sensed-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now that we have site data spatial data, let’s cover a couple of techniques or resources you can use to access satellite data for your site. In the event that you only need a vegetative map layer from a specific point in time, it is not too difficult to download actual Landsat imagery from usgs.gov. In the case of Cabin Creek let’s look at a single summer image from 2020.<br><br></p>
<p>Navigate to <a href="https://ers.cr.usgs.gov/" class="uri">https://ers.cr.usgs.gov/</a>, and if you don’t already have an account, you can create one quickly or sign in if you already have one. Once signed in, go to <a href="https://earthexplorer.usgs.gov" class="uri">https://earthexplorer.usgs.gov</a> you should see a surface map with tabs on the left.
Start with the ‘Search Criteria’ tab. For this assignment the shape file we have is too large to upload, so it is easiest to scroll down and choose ‘polygon’ or ‘circle’ to define your area. Under the circle tab you can use Center Latitude 39.9861 Center Longitude -105.719 and a radius of about 3.5 kilometers to capture our study area.</p>
<p>Let’s say we want an NDVI map layer from summer of 2020. In ‘date range’, select dates for the summer of 2020. In this high elevation area of Colorado, the greenest times of the year without snow cover are likely June and July with senescence beginning sometime in late July. First search from June 1 to July 15 2020. Then click on ‘Data Sets’ either at the bottom or top of the left-hand side menus. From the data sets we will select Landsat Collection 2 level 2, Landsat 8 - 9 OLI TIRS C2L2.</p>
<p>We can skip ‘Additional Criteria’ for now and go to ‘Results’. You should receive a set of about 11 images. For each image you can check out the metadata. That is the ‘pen and notepad’ icon in the middle of image specific menu. Here you can look at data like cloud cover. For these images, the values you see are a cloud coverage percent. Cloud coverage measurements and the codes to filter for certain cloud cover thresholds may change across missions. If you are retrieving Landsat data for time series using code, it will be important to explore the different quality control parameters and what they represent. You don’t need to download anything for this assignment, we’ve provided it for you. However to gain familiarity with this process, click on the ‘download’ icon for July 7, 2020 and click ‘select files’ on the Reflectance Bands option.</p>
<p><strong>Q6</strong> (1pnt): What 2 bands should we download to calculate NDVI?</p>
<p>Answer:</p>
<p>Check out other earthexplorer resources while you are at the site. You will likely find resources here for your MS projects, even if it is just for making maps of your study area for presentations or paper.</p>
<div id="landsat" class="section level5 hasAnchor" number="10.3.6.0.1">
<h5><span class="header-section-number">10.3.6.0.1</span> Landsat<a href="learning-module-10---gridded-and-tabular-data-retrieval.html#landsat" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>If you want to learn about Landsat missions or utilize Landsat data, USGS offers all of the reference information you need. The sensors on these missions can be a fantastic resource if characterizing land or water surface over large temporal scales. Landsat data provides (30m) spatial resolution so can capture spatial heterogeneity, even for smaller study areas. If calculating vegetation indices over different time periods, it is important to know which mission you are retrieving data from and check the band assignments for that mission. For example, on the Landsat 6 instrument, Band 4 is near-infrared, whereas Band 4 on Landsat 9’s instrument is red.</p>
</div>
<div id="moderate-resolution-imaging-spectroradiometer-modis" class="section level5 hasAnchor" number="10.3.6.0.2">
<h5><span class="header-section-number">10.3.6.0.2</span> Moderate Resolution Imaging Spectroradiometer (MODIS):<a href="learning-module-10---gridded-and-tabular-data-retrieval.html#moderate-resolution-imaging-spectroradiometer-modis" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>is a sensor aboard NASA’s Terra and Aqua satellites which orbit Earth and collect data on a daily basis. MODIS data provides moderate spatial resolution (250m to 1km) and high temporal resolution. Therefore, MODIS data can be an optimal way to monitor or characterize rapid changes to Earth’s surface like land cover changes resulting from wildfire. Data can be accessed and downloaded directly through <a href="https://www.earthdata.nasa.gov/">NASA’s Earthdata tool</a>.</p>
<p>Let’s import our raster data.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-1" tabindex="-1"></a><span class="co"># # Import the two bands needed for NDVI calculation</span></span>
<span id="cb82-2"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-2" tabindex="-1"></a><span class="co"># red_band &lt;- raster(&quot;landsat/LC08_L2SP_034032_20200702_20200913_02_T1_SR_B4.TIF&quot;)</span></span>
<span id="cb82-3"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-3" tabindex="-1"></a><span class="co"># nir_band &lt;- raster(&quot;landsat/LC08_L2SP_034032_20200702_20200913_02_T1_SR_B5.TIF&quot;)</span></span>
<span id="cb82-4"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-4" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb82-5"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-5" tabindex="-1"></a><span class="co"># # Note that the file name tells us about the data.</span></span>
<span id="cb82-6"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-6" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb82-7"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-7" tabindex="-1"></a><span class="co"># # Calculate NDVI</span></span>
<span id="cb82-8"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-8" tabindex="-1"></a><span class="co"># ndvi &lt;- (BLANK - BLANK) / (BLANK + red_band)</span></span>
<span id="cb82-9"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-9" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb82-10"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-10" tabindex="-1"></a><span class="co"># # Project the NDVI layer so that the coordinate reference system matches that of the watershed boundary shapefile.</span></span>
<span id="cb82-11"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-11" tabindex="-1"></a><span class="co"># ndvi_projected &lt;- projectRaster(ndvi, crs = crs(ws_boundary))</span></span>
<span id="cb82-12"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-12" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb82-13"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-13" tabindex="-1"></a><span class="co"># # Crop NDVI raster to the extent of ws_boundary. </span></span>
<span id="cb82-14"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-14" tabindex="-1"></a><span class="co"># ndvi_crop &lt;- crop(ndvi_projected, ws_boundary)</span></span>
<span id="cb82-15"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-15" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb82-16"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-16" tabindex="-1"></a><span class="co"># # Plot NDVI</span></span>
<span id="cb82-17"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-17" tabindex="-1"></a><span class="co"># plot(ndvi_crop, col = rev(rainbow(255)))</span></span>
<span id="cb82-18"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-18" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb82-19"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-19" tabindex="-1"></a><span class="co"># # Plot ws_boundary as an outline</span></span>
<span id="cb82-20"><a href="learning-module-10---gridded-and-tabular-data-retrieval.html#cb82-20" tabindex="-1"></a><span class="co"># plot(ws_boundary, add = TRUE, border = &quot;black&quot;, lwd = 2, col = &quot;transparent&quot;)</span></span></code></pre></div>
<p><strong>Q7</strong> (1pnt) What does ‘SR’ in the .tif names tell us about the data?</p>
<p>ANSWER:</p>
<p><strong>Q8</strong> (2pnts) What is the difference between ‘mask’ and ‘crop’ when filtering large files to fit the area of interest?</p>
<p>ANSWER:</p>
</div>
<div id="earth-surface-changes-over-time" class="section level4 hasAnchor" number="10.3.6.1">
<h4><span class="header-section-number">10.3.6.1</span> Earth surface changes over time<a href="learning-module-10---gridded-and-tabular-data-retrieval.html#earth-surface-changes-over-time" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>If considering changes over time, comparing individual rasters from different time periods directly may not always provide meaningful insights because the absolute values of vegetation indices can vary due to factors such as differences in solar angle, atmospheric conditions, and land cover changes. Instead, it’s often more informative to analyze trends in vegetation over time.</p>
<div id="landtrendr" class="section level5 hasAnchor" number="10.3.6.1.1">
<h5><span class="header-section-number">10.3.6.1.1</span> LandTrendr<a href="learning-module-10---gridded-and-tabular-data-retrieval.html#landtrendr" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>One fun way to do this is with <a href="https://emapr.github.io/LT-GEE/landtrendr.html">Oregon State University’s LandTendr</a>. With a Google account and access to Earth Engine, you can easily interact with the UI Applications in section 8. You can jump to the <a href="https://emaprlab.users.earthengine.app/view/lt-gee-pixel-time-series">pixel timeseries here</a>.
This will allow you to view changes in vegetation indices over a specified time period within a single Landsat pixel.</p>
</div>
<div id="google-earth-engine" class="section level5 hasAnchor" number="10.3.6.1.2">
<h5><span class="header-section-number">10.3.6.1.2</span> Google Earth Engine<a href="learning-module-10---gridded-and-tabular-data-retrieval.html#google-earth-engine" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Another effective way to access evaluate large spatial datasets is through Google Earth Engine (GEE). GEE is a cloud-based platform developed by Google for large scale environmental data analysis. It provides a <a href="https://developers.google.com/earth-engine/datasets/">massive archive of satellite imagery and other geospatial datasets</a>, as well as computational tools to view and analyze them. GEE uses Google’s cloud to provide processing of data so you don’t need powerful computing ability to run a potentially computationally expensive spatial analysis.</p>
<div id="gee-access" class="section level6 hasAnchor" number="10.3.6.1.2.1">
<h6><span class="header-section-number">10.3.6.1.2.1</span> GEE Access<a href="learning-module-10---gridded-and-tabular-data-retrieval.html#gee-access" class="anchor-section" aria-label="Anchor link to header"></a></h6>
<p>If spatial data is something you may need for your MS project, we recommend exploring this resource</p>
<p><strong>Sign Up:</strong> Go to the Google Earth Engine website (<a href="https://earthengine.google.com/" class="uri">https://earthengine.google.com/</a>) and sign in with your Google account. If you don’t have a Google account, you can sign up for access by filling out a request form.</p>
<p><strong>Request Access:</strong> If you’re signing up for the first time, you’ll need to request access to Google Earth Engine. Provide information about your affiliation, research interests, and how you plan to use Earth Engine (learn and access data!).</p>
<p><strong>Approval:</strong> After submitting your request, you’ll need to wait for approval from the Google Earth Engine team. Approval times may vary, but you should receive an email notification once your request has been approved.</p>
<p><strong>Access Earth Engine:</strong> Once approved, you can access Google Earth Engine through the Code Editor interface in your web browser at code.earthengine.google.com to start exploring the available datasets, running analyses, and visualizing your results.</p>
<p>We have provided a <a href="https://code.earthengine.google.com/332cc9055781b21d8506620f0a4cb582">basic script for retrieving and viewing NDVI data</a>. This is a code snapshot, so you can manually copy the code from the snapshot and paste it into you own Google Earth Engine Code editor.
You are welcome to save this to your own GEE files and try changing the area of interest, vegetation indices, time periods or exploring other data.</p>
<p>Colorado State University also has a <a href="https://ecology.colostate.edu/google-earth-engine/">great tutorial here</a> that will start you from scratch.</p>
<p>Note that JavaScript is the default language for the code editor interface in your web browser. If you are familiar with Python, GEE provides a Python API that can allow you to use Python syntax. If neither of these languages are familiar, don’t give up yet! You can still use this tool with your R coding background and trial and error. We recommend finding other scripts that suit your need (there are a lot of shared resources online) and adapting them to your area of interest. Once you understand coding concepts, like those in R, other languages can be picked up easily. You will find that you are learning JavaScript before you realize it.</p>

</div>
</div>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="snowmelt-models-for-runoff-timing---lecture-lab-20-pts.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dem-processing.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/tpcovino/lres_546_bookdown/edit/main/10_data_retrieval.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/tpcovino/lres_546_bookdown/blob/main/10_data_retrieval.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
